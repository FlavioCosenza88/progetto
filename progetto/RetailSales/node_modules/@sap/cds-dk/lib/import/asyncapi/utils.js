const messages = require("../message").getMessages();

function validateAsyncAPI(content) {
    if ('channels' in content && 'components' in content && 'messages' in content.components) {
        return;
    }

    throw new Error(messages.INVALID_ASYNCAPI_FILE);
}

const typeRegex = new RegExp(
    '^(?<namespace>(?:[a-z][a-z0-9]*)(?:[.][a-z][a-z0-9]*)+)[.](?<businessObject>[a-zA-Z0-9]+)[.](?<operation>[a-zA-Z0-9]+)([.](?<version>v(?:[0-9]|[1-9][0-9]*)))?$'
);

module.exports = {
    validateAsyncAPI,
    typeRegex
}
