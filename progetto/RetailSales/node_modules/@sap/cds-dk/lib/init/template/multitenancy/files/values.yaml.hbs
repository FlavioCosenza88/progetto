---
srv:
  bindings:
    {{#cap.isJava}}
    saas-registry:
      serviceInstanceName: saas-registry
    {{/cap.isJava}}
    service-manager:
      serviceInstanceName: service-manager
{{#cap.hasXsuaa}}
xsuaa:
  parameters:
    tenant-mode: shared
{{/cap.hasXsuaa}}
service-manager:
  serviceOfferingName: service-manager
  servicePlanName: container
saas-registry:
  serviceOfferingName: saas-registry
  servicePlanName: application
saasRegistryParameters:
  xsappname: {{cap.appName}}
  appName: {{cap.appName}}
  displayName: {{cap.appName}}
  description: {{cap.appDescription}}
  category: "CAP Application"
{{#cap.isNodejs}}
  bindSidecar: true
{{/cap.isNodejs}}
  appUrls:
    {{#cap.isNodejs}}
    getDependencies: "/-/cds/saas-provisioning/dependencies"
    onSubscription: "/-/cds/saas-provisioning/tenant/{tenantId}"
    {{/cap.isNodejs}}
    {{#cap.isJava}}
    getDependencies: "/mt/v1.0/subscriptions/dependencies"
    onSubscription: "/mt/v1.0/subscriptions/tenants/{tenantId}"
    {{/cap.isJava}}
    onSubscriptionAsync: true
    onUnSubscriptionAsync: true
    onUpdateDependenciesAsync: true
    callbackTimeoutMillis: 300000
sidecar:
  bindings:
    {{#cap.hasXsuaa}}
    auth:
      serviceInstanceName: xsuaa
    {{/cap.hasXsuaa}}
    {{#cap.isNodejs}}
    saas-registry:
      serviceInstanceName: saas-registry
    {{/cap.isNodejs}}
    service-manager:
      serviceInstanceName: service-manager
  image:
    repository: <your-container-registry>/{{cap.appName}}-sidecar
    tag: latest
  resources:
    limits:
      ephemeral-storage: 1G
      memory: 500M
    requests:
      ephemeral-storage: 1G
      cpu: 500m
      memory: 500M
  health:
    liveness:
      path: /
    readiness:
      path: /
